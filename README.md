# SkyPlan (スカイプラン) 🌤️📅

**予定 × 移動 × 天気** を統合し、あなたの一日をサポートする「全自動AI秘書アプリケーション」。
単なるカレンダーアプリではなく、天候や移動時間を考慮した「実行可能なプラン」を提案し、リスクを事前に回避させます。

---

## 📱 アプリケーション概要

SkyPlanは、ユーザーのスケジュール情報に「位置情報」と「気象データ」を掛け合わせることで、これまで気づけなかったスケジュールの無理やリスクを可視化します。
「雨予報なのに屋外でピクニック」のようなミスマッチをAIが自動検知し、代替案を提示することで、あなたの貴重な一日を守ります。

---

## ✨ 主な機能

### 1. インテリジェント・タイムライン (Smart Timeline)
*   **概要**: カレンダーの予定をリスト化し、その日の流れをひと目で把握できます。
*   **特徴**:
    *   **リスクスコア表示**: 「移動がギリギリ」「天気が悪い」などのリスクを数値化（0~100）し、色で警告します。
    *   **天気連動**: 予定時刻・場所のピンポイント天気をカードに表示。「何時頃から雨が降るか」が直感的にわかります。

### 2. スマートマップ・ナビゲーション (Smart Map)
*   **概要**: 1日の移動経路を地図上で可視化します。
*   **OSRM連携**: 実際の道路データに基づいた正確なルートを描画しま​​す（直線距離ではありません）。
*   **動的フィルタリング**: 地図上のピンを複数選択すると、その区間のルートのみを表示。複雑な移動も整理して確認できます。
*   **モード切替**: 「徒歩🚶」「車🚗」の移動手段を切り替え可能。雨の日は自動的に車ルートが提案されることもあります。

### 3. AI分析レポート & 代替案提案 (AI Suggestions) 🤖
*   **概要**: その日のスケジュール全体をAIが診断します。
*   **リスク検知**: 「雨予報 × アウトドア予定」などの相性の悪い組み合わせを自動検出します。
*   **代替プラン**: リスクがある場合、AIが状況に応じた代替スポット（例：雨なら博物館やショッピングモール、晴れている別エリアなど）を具体的に提案します。
*   **ホーム画面FAB**: 画面右下のロボットアイコンからいつでもアクセス可能です。

### 4. ライフログ & ホーム推定 (Context Awareness)
*   **学習機能**: ユーザーの行動履歴から「自宅」や「よく行く場所」を自動学習します。
*   **通知**: 出発時間の遅れや、傘が必要なタイミングをプッシュ通知でお知らせします（デモ実装）。

---

## 🛠 技術スタック

*   **Framework**: Flutter (Dart)
*   **Maps**: `flutter_map`, `latlong2`
*   **Routing**: OSRM (Open Source Routing Machine) API
*   **Data Models**: JSONベースの独自データ構造（CalendarEvent, WeatherHourly, PlanCard）
*   **Architecture**: Repository Pattern, Service Layer

---

## 🎮 デモシナリオ

本プロトタイプでは、以下の日付で特別なシナリオを体験できます。

### 📅 1月24日 (土): 「雨の日のピクニック」回避
*   **状況**: アンデルセン公園でのピクニックを予定していましたが、千葉方面は雨予報。
*   **AIの挙動**:
    *   千葉の雨を検知し、「ピクニックは難しいかもしれません」と警告。
    *   **代替案**: 天気の良い「鎌倉・江ノ島（晴れ）」や「川越」への行き先変更を提案します。

### 📅 1月20日 (火): 平日のビジネスデー
*   **状況**: 都内での営業回り。天気は曇り/晴れ。
*   **AIの挙動**: 「予定通りで問題ありません」とポジティブなフィードバックを返します。

---

## 🚀 開発者
*   **Team**: Google Deepmind / Advanced Agentic Coding
*   **Agent**: Antigravity
